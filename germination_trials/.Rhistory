df <- data.frame(time=numeric(), y=numeric(),treat=numeric())
dfhere <- data.frame(time=time, y=y,treat=rep(treat, length(y)))
df <- data.frame(time=numeric(), y=numeric(),treat=numeric())
df <- data.frame(time=numeric(), y=numeric(),treat=numeric())
for (i in c(1:length(treat))){
for (l in time){
y<-(d.b*treat[i]+d.a)/(1+((time/(t50.a)^beta.b)))
dfhere <- data.frame(time=time, y=y,treat=rep(treat[i], length(y)))
df <- rbind(df, dfhere)
}
}
dfhere$y<-round(dfhere$y)
df <- data.frame(time=numeric(), y=numeric(),treat=numeric())
for (i in c(1:length(treat))){
for (l in time){
y<-(d.b*treat[i]+d.a)/(1+((time/(t50.a)^beta.b)))
dfhere <- data.frame(time=time, y=y,treat=rep(treat[i], length(y)))
df <- rbind(df, dfhere)
}
}
dfhere$y<-round(dfhere$y)
rm(list=ls())
options(stringsAsFactors = FALSE)
graphics.off()
time<-seq(0,24,by=3)
treat<-c(0,1)
##parameters
t50.a<-15
t50.b<--6
beta.b<--4
d.a<-6
d.b<-10
for (i in c(1:length(treat))){
for (l in time){
y<-(d.b*treat[i]+d.a)/(1+((time/(t50.a)^beta.b)))
dfhere<-data.frame(time=time, y=y,treat=treat) ### rep treat to make it same as y
}
}
df <- data.frame(time=numeric(), y=numeric(),treat=numeric())
for (i in c(1:length(treat))){
for (l in time){
y<-(d.b*treat[i]+d.a)/(1+((time/(t50.a)^beta.b)))
dfhere <- data.frame(time=time, y=y,treat=rep(treat[i], length(y)))
df <- rbind(df, dfhere)
}
}
dfhere$y<-round(dfhere$y)
View(df)
View(df)
View(df)
##next step, a thoughtful way to add error between replicates
#1. I could add error on each parementer, I think using rnorm
# or just add error to the final why value
rm(list=ls())
options(stringsAsFactors = FALSE)
graphics.off()
if(length(grep("Lizzie", getwd())>0)) {
setwd("~/Documents/git/projects/misc/dan/timetogerminate/germination_trials")
} else setwd("~/Documents/git/timetogerminate/germination_trials")
library(rstan)
library(tidyr)
library(drc)
library(dplyr)
library(shinystan)
library(extraDistr)
chill<-c(0,1) # level of chilling, continuous data
##parameters
t50.a<-20 #intercept of t50
t50.b<--5 # slope of t50 with chilling
beta.a<--5 #intercept of beta (shape paramenter)
beta.b<--2 # slope of beta with chilling
d.a<-2 # intercept of d (maximum germination)
d.b<-10 #slope of d with chilling
repz<-seq(1,50,by=1) ## number of replicates
