browseVignettes(package = 'germinationmetrics')
browseVignettes(package = 'germinationmetrics')
library(rworldmap)
newmap <- getMap(resolution = "low")
library(rworldmap)
library(devtools)
install_github("OnofriAndreaPG/drcSeedGerm")
?drcSeedGerm::
??drcSeedGerm::
??drcSeedGerm
GTime()
?GTime()
germination <- data.frame(
obsT = c(1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31,
33, 35, 37, 39, 1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25,
27, 29, 31, 33, 35, 37, 39),
temp = factor(rep(c(15, 25), each=20)),
counts = c(2, 12, 11, 13, 14, 4, 6, 4, 5, 5, 2, 1, 2, 1, 3, 2, 2, 2,
0, 1, 10, 26, 13, 9, 10, 3, 6, 4, 1, 2, 2, 3, 0, 1, 2,
2, 0, 0, 1, 1))
head(germination)
counts <- c(counts[1:20], 100 - sum(counts[1:20]), counts[21:40], 100 - sum(counts[21:40]))
germination <- data.frame(
obsT = c(1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31,
33, 35, 37, 39, 1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25,
27, 29, 31, 33, 35, 37, 39),
temp = factor(rep(c(15, 25), each=20)),
counts = c(2, 12, 11, 13, 14, 4, 6, 4, 5, 5, 2, 1, 2, 1, 3, 2, 2, 2,
0, 1, 10, 26, 13, 9, 10, 3, 6, 4, 1, 2, 2, 3, 0, 1, 2,
2, 0, 0, 1, 1))
germination <- data.frame(
obsT = c(1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31,
33, 35, 37, 39, 1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25,
27, 29, 31, 33, 35, 37, 39),
temp = factor(rep(c(15, 25), each=20)),
counts = c(2, 12, 11, 13, 14, 4, 6, 4, 5, 5, 2, 1, 2, 1, 3, 2, 2, 2,
0, 1, 10, 26, 13, 9, 10, 3, 6, 4, 1, 2, 2, 3, 0, 1, 2,
2, 0, 0, 1, 1))
counts = c(2, 12, 11, 13, 14, 4, 6, 4, 5, 5, 2, 1, 2, 1, 3, 2, 2, 2,
0, 1, 10, 26, 13, 9, 10, 3, 6, 4, 1, 2, 2, 3, 0, 1, 2,
2, 0, 0, 1, 1))
counts <- c(counts[1:20], 100 - sum(counts[1:20]), counts[21:40], 100 - sum(counts[21:40]))
germination2 <- data.frame(
temp = rep(factor(rep(c(15, 25), each = 21)), counts),
timeAf = rep(c(germination$obsT[1:20], NA, germination$obsT[21:40], NA),
counts),
timeBef = rep(c(NA, germination$obsT[1:20], NA, germination$obsT[21:40]),
counts))
counts <- c(counts[1:20], 100 - sum(counts[1:20]), counts[21:40], 100 - sum(counts[21:40]))
obsT = c(1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31,
33, 35, 37, 39, 1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25,
27, 29, 31, 33, 35, 37, 39)
temp = factor(rep(c(15, 25), each=20))
counts = c(2, 12, 11, 13, 14, 4, 6, 4, 5, 5, 2, 1, 2, 1, 3, 2, 2, 2,
0, 1, 10, 26, 13, 9, 10, 3, 6, 4, 1, 2, 2, 3, 0, 1, 2,
2, 0, 0, 1, 1)
germination<-data.frame(obsT,temp,counts)
head(germination)
counts <- c(counts[1:20], 100 - sum(counts[1:20]), counts[21:40], 100 - sum(counts[21:40]))
germination2 <- data.frame(
temp = rep(factor(rep(c(15, 25), each = 21)), counts),
timeAf = rep(c(germination$obsT[1:20], NA, germination$obsT[21:40], NA),
counts),
timeBef = rep(c(NA, germination$obsT[1:20], NA, germination$obsT[21:40]),
counts))
rm(counts)
head(germination2, 10)
View(germination2)
mod2 <- survreg(Surv(timeBef, timeAf, type = "interval2") ~ temp,
dist = "lognormal", data = germination2)
library(survival)
mod2 <- survreg(Surv(timeBef, timeAf, type = "interval2") ~ temp,
dist = "lognormal", data = germination2)
sumamrymod2
summary(mod2)
library(emmeans)
emmeans(mod2, ~ temp, transform = "response")
View(germination2)
d<-read.csv("germ_data_forDRC.csv",header= TRUE)
#dater<-uncount(dater,germination,.remove=TRUE)
#dater$germinationed<-ifelse(dater$day==10,0,1)
###This seems to work
setwd("~/Documents/git/timetogerminate/germination_trials/input")
d<-read.csv("germ_data_forDRC.csv",header= TRUE)
goober<-uncount(d,germination,.remove=FALSE)
library(tidyverse)
goober<-uncount(d,germination,.remove=FALSE)
goober$DAY<-ifelse(goober$DAY==-Inf,NA,goober$DAY)
goober$END<-ifelse(goober$END==Inf,NA,goober$END)
mod2 <- survreg(Surv(DAY, END, type = "interval2") ~ INC,
dist = "lognormal", data = goober)
View(germination2)
?drm()
